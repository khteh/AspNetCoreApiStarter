{"@timestamp":"2019-07-12T18:36:06.4474019+08:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","message":"User profile is available. Using '\"/home/khteh/.aspnet/DataProtection-Keys\"' as key repository; keys will not be encrypted at rest.","fields":{"FullName":"/home/khteh/.aspnet/DataProtection-Keys","SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2019-07-12T18:36:07.1093307+08:00","level":"Warning","messageTemplate":"Overriding address(es) '{addresses}'. Binding to endpoints defined in {methodName} instead.","message":"Overriding address(es) '\"http://localhost:5000/swagger\"'. Binding to endpoints defined in \"UseKestrel()\" instead.","fields":{"addresses":"http://localhost:5000/swagger","methodName":"UseKestrel()","SourceContext":"Microsoft.AspNetCore.Server.Kestrel"}}
{"@timestamp":"2019-07-12T18:36:07.1527170+08:00","level":"Information","messageTemplate":"Start task.","message":"Start task.","fields":{"SourceContext":"Web.Api.HealthChecks.StartupHostedService"}}
{"@timestamp":"2019-07-12T18:36:07.7457369+08:00","level":"Information","messageTemplate":"{HostingRequestStartingLog:l}","message":"Request starting HTTP/1.1 GET http://localhost:5000/  ","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"},"renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/  "}]}}
{"@timestamp":"2019-07-12T18:36:07.7775946+08:00","level":"Information","messageTemplate":"Method: GET, Scheme: http, PathBase: , Path: /, IP: 127.0.0.1, Host: localhost:5000, ContentLength: ","message":"Method: GET, Scheme: http, PathBase: , Path: /, IP: 127.0.0.1, Host: localhost:5000, ContentLength: ","fields":{"SourceContext":"Web.Api.Startup","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:07.9307166+08:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:07.9625304+08:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Page: /Index\"'","fields":{"EndpointName":"Page: /Index","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:08.0085246+08:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing page {PageName}","message":"Route matched with \"{page = \\\"/Index\\\", action = \\\"\\\", controller = \\\"\\\"}\". Executing page \"/Index\"","fields":{"RouteData":"{page = \"/Index\", action = \"\", controller = \"\"}","PageName":"/Index","EventId":{"Id":3},"SourceContext":"Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker","ActionId":"d0c4a34c-d8ee-4d71-bf64-ce112475b234","ActionName":"/Index","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:08.0301895+08:00","level":"Information","messageTemplate":"Executing an implicit handler method - ModelState is {ValidationState}","message":"Executing an implicit handler method - ModelState is Valid","fields":{"ValidationState":"Valid","EventId":{"Id":103},"SourceContext":"Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker","ActionId":"d0c4a34c-d8ee-4d71-bf64-ce112475b234","ActionName":"/Index","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:08.0314122+08:00","level":"Information","messageTemplate":"Executed an implicit handler method, returned result {ActionResult}.","message":"Executed an implicit handler method, returned result \"Microsoft.AspNetCore.Mvc.RazorPages.PageResult\".","fields":{"ActionResult":"Microsoft.AspNetCore.Mvc.RazorPages.PageResult","EventId":{"Id":104},"SourceContext":"Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker","ActionId":"d0c4a34c-d8ee-4d71-bf64-ce112475b234","ActionName":"/Index","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:08.2003712+08:00","level":"Information","messageTemplate":"Executed page {PageName} in {ElapsedMilliseconds}ms","message":"Executed page \"/Index\" in 187.4397ms","fields":{"PageName":"/Index","ElapsedMilliseconds":187.43970000000002,"EventId":{"Id":4},"SourceContext":"Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvoker","ActionId":"d0c4a34c-d8ee-4d71-bf64-ce112475b234","ActionName":"/Index","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:08.2025011+08:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Page: /Index\"'","fields":{"EndpointName":"Page: /Index","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:08.2121360+08:00","level":"Information","messageTemplate":"{HostingRequestFinishedLog:l}","message":"Request finished in 470.2463ms 200 text/html; charset=utf-8","fields":{"ElapsedMilliseconds":470.2463,"StatusCode":200,"ContentType":"text/html; charset=utf-8","HostingRequestFinishedLog":"Request finished in 470.2463ms 200 text/html; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLO6MIVR1HTJ:00000001","RequestPath":"/","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"},"renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 470.2463ms 200 text/html; charset=utf-8"}]}}
{"@timestamp":"2019-07-12T18:36:17.1560934+08:00","level":"Information","messageTemplate":"Startup Background Service has started.","message":"Startup Background Service has started.","fields":{"SourceContext":"Web.Api.HealthChecks.StartupHostedService"}}
{"@timestamp":"2019-07-12T18:36:17.9214396+08:00","level":"Information","messageTemplate":"{HostingRequestStartingLog:l}","message":"Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login application/json 61","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":61,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/api/auth/login","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login application/json 61","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"},"renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login application/json 61"}]}}
{"@timestamp":"2019-07-12T18:36:17.9230346+08:00","level":"Information","messageTemplate":"Method: POST, Scheme: http, PathBase: , Path: /api/auth/login, IP: 127.0.0.1, Host: localhost:5000, ContentLength: 61","message":"Method: POST, Scheme: http, PathBase: , Path: /api/auth/login, IP: 127.0.0.1, Host: localhost:5000, ContentLength: 61","fields":{"SourceContext":"Web.Api.Startup","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:17.9386171+08:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Web.Api.Controllers.AuthController.Login (Web.Api)\"'","fields":{"EndpointName":"Web.Api.Controllers.AuthController.Login (Web.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:17.9679295+08:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Login\\\", controller = \\\"Auth\\\", page = \\\"\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Web.Api.Models.Request.LoginRequest)\" on controller \"Web.Api.Controllers.AuthController\" (\"Web.Api\").","fields":{"RouteData":"{action = \"Login\", controller = \"Auth\", page = \"\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Web.Api.Models.Request.LoginRequest)","Controller":"Web.Api.Controllers.AuthController","AssemblyName":"Web.Api","EventId":{"Id":3},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:18.5079775+08:00","level":"Information","messageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","message":"Executing action method \"Web.Api.Controllers.AuthController.Login (Web.Api)\" - Validation state: Valid","fields":{"ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:18.7023040+08:00","level":"Information","messageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","message":"Entity Framework Core \"2.2.6-servicing-10079\" initialized '\"AppIdentityDbContext\"' using provider '\"MySql.Data.EntityFrameworkCore\"' with options: \"MigrationsAssembly=Web.Api.Infrastructure \"","fields":{"version":"2.2.6-servicing-10079","contextType":"AppIdentityDbContext","provider":"MySql.Data.EntityFrameworkCore","options":"MigrationsAssembly=Web.Api.Infrastructure ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.2878339+08:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"6\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = -1)\"], CommandType='Text', CommandTimeout='30']\"\n\"\"SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`\nFROM `AspNetUsers` AS `u`\nWHERE `u`.`NormalizedUserName` = @__normalizedUserName_0\nLIMIT 1\"","fields":{"elapsed":"6","parameters":"@__normalizedUserName_0='?' (Size = -1)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`\nFROM `AspNetUsers` AS `u`\nWHERE `u`.`NormalizedUserName` = @__normalizedUserName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.3683979+08:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = -1)\"], CommandType='Text', CommandTimeout='30']\"\n\"\"SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`\nFROM `AspNetUsers` AS `u`\nWHERE `u`.`NormalizedUserName` = @__normalizedUserName_0\nLIMIT 1\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = -1)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT `u`.`Id`, `u`.`AccessFailedCount`, `u`.`ConcurrencyStamp`, `u`.`Email`, `u`.`EmailConfirmed`, `u`.`FirstName`, `u`.`LastName`, `u`.`LockoutEnabled`, `u`.`LockoutEnd`, `u`.`NormalizedEmail`, `u`.`NormalizedUserName`, `u`.`PasswordHash`, `u`.`PhoneNumber`, `u`.`PhoneNumberConfirmed`, `u`.`SecurityStamp`, `u`.`TwoFactorEnabled`, `u`.`UserName`\nFROM `AspNetUsers` AS `u`\nWHERE `u`.`NormalizedUserName` = @__normalizedUserName_0\nLIMIT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.3982299+08:00","level":"Information","messageTemplate":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","message":"Entity Framework Core \"2.2.6-servicing-10079\" initialized '\"AppDbContext\"' using provider '\"MySql.Data.EntityFrameworkCore\"' with options: \"MigrationsAssembly=Web.Api.Infrastructure \"","fields":{"version":"2.2.6-servicing-10079","contextType":"AppDbContext","provider":"MySql.Data.EntityFrameworkCore","options":"MigrationsAssembly=Web.Api.Infrastructure ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.4626784+08:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__identityId_0='?' (Size = -1)\"], CommandType='Text', CommandTimeout='30']\"\n\"\"SELECT `u`.`Id`, `u`.`Created`, `u`.`FirstName`, `u`.`IdentityId`, `u`.`LastName`, `u`.`Modified`, `u`.`UserName`\nFROM `Users` AS `u`\nWHERE `u`.`IdentityId` = @__identityId_0\nORDER BY `u`.`Id`\"","fields":{"elapsed":"1","parameters":"@__identityId_0='?' (Size = -1)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT `u`.`Id`, `u`.`Created`, `u`.`FirstName`, `u`.`IdentityId`, `u`.`LastName`, `u`.`Modified`, `u`.`UserName`\nFROM `Users` AS `u`\nWHERE `u`.`IdentityId` = @__identityId_0\nORDER BY `u`.`Id`","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.4940844+08:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__identityId_0='?' (Size = -1)\"], CommandType='Text', CommandTimeout='30']\"\n\"\"SELECT `u.RefreshTokens`.`Id`, `u.RefreshTokens`.`Created`, `u.RefreshTokens`.`Expires`, `u.RefreshTokens`.`Modified`, `u.RefreshTokens`.`RemoteIpAddress`, `u.RefreshTokens`.`Token`, `u.RefreshTokens`.`UserId`\nFROM `RefreshTokens` AS `u.RefreshTokens`\nINNER JOIN (\n    SELECT `u0`.`Id`\n    FROM `Users` AS `u0`\n    WHERE `u0`.`IdentityId` = @__identityId_0\n) AS `t` ON `u.RefreshTokens`.`UserId` = `t`.`Id`\nORDER BY `t`.`Id`\"","fields":{"elapsed":"1","parameters":"@__identityId_0='?' (Size = -1)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT `u.RefreshTokens`.`Id`, `u.RefreshTokens`.`Created`, `u.RefreshTokens`.`Expires`, `u.RefreshTokens`.`Modified`, `u.RefreshTokens`.`RemoteIpAddress`, `u.RefreshTokens`.`Token`, `u.RefreshTokens`.`UserId`\nFROM `RefreshTokens` AS `u.RefreshTokens`\nINNER JOIN (\n    SELECT `u0`.`Id`\n    FROM `Users` AS `u0`\n    WHERE `u0`.`IdentityId` = @__identityId_0\n) AS `t` ON `u.RefreshTokens`.`UserId` = `t`.`Id`\nORDER BY `t`.`Id`","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.5737161+08:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = -1), @p4='?' (Size = -1), @p5='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\n\"\"INSERT INTO `RefreshTokens` (`Created`, `Expires`, `Modified`, `RemoteIpAddress`, `Token`, `UserId`)\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);\nSELECT `Id`\nFROM `RefreshTokens`\nWHERE ROW_COUNT() = 1\n AND `Id`=LAST_INSERT_ID();\"","fields":{"elapsed":"4","parameters":"@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = -1), @p4='?' (Size = -1), @p5='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"INSERT INTO `RefreshTokens` (`Created`, `Expires`, `Modified`, `RemoteIpAddress`, `Token`, `UserId`)\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);\nSELECT `Id`\nFROM `RefreshTokens`\nWHERE ROW_COUNT() = 1\n AND `Id`=LAST_INSERT_ID();","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.5803063+08:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@p12='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (Size = -1), @p8='?' (Size = -1), @p9='?' (Size = -1), @p10='?' (DbType = DateTime), @p11='?' (Size = -1)\"], CommandType='Text', CommandTimeout='30']\"\n\"\"UPDATE `Users` SET `Created` = @p6, `FirstName` = @p7, `IdentityId` = @p8, `LastName` = @p9, `Modified` = @p10, `UserName` = @p11\nWHERE `Id` = @p12;\nSELECT ROW_COUNT();\"","fields":{"elapsed":"0","parameters":"@p12='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (Size = -1), @p8='?' (Size = -1), @p9='?' (Size = -1), @p10='?' (DbType = DateTime), @p11='?' (Size = -1)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"UPDATE `Users` SET `Created` = @p6, `FirstName` = @p7, `IdentityId` = @p8, `LastName` = @p9, `Modified` = @p10, `UserName` = @p11\nWHERE `Id` = @p12;\nSELECT ROW_COUNT();","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.6691725+08:00","level":"Information","messageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","message":"Executed action method \"Web.Api.Controllers.AuthController.Login (Web.Api)\", returned result \"Web.Api.Presenters.JsonContentResult\" in 1158.9483ms.","fields":{"ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","ActionResult":"Web.Api.Presenters.JsonContentResult","ElapsedMilliseconds":1158.9483,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.6715041+08:00","level":"Information","messageTemplate":"Executing ContentResult with HTTP Response ContentType of {ContentType}","message":"Executing ContentResult with HTTP Response ContentType of \"application/json\"","fields":{"ContentType":"application/json","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ContentResultExecutor","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.6721956+08:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Web.Api.Controllers.AuthController.Login (Web.Api)\" in 1703.9085ms","fields":{"ActionName":"Web.Api.Controllers.AuthController.Login (Web.Api)","ElapsedMilliseconds":1703.9085,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"e74ba047-3b2b-490a-8c4e-8ed4feb599f9","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.6724579+08:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Web.Api.Controllers.AuthController.Login (Web.Api)\"'","fields":{"EndpointName":"Web.Api.Controllers.AuthController.Login (Web.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"}}
{"@timestamp":"2019-07-12T18:36:19.6735186+08:00","level":"Information","messageTemplate":"{HostingRequestFinishedLog:l}","message":"Request finished in 1752.8917ms 200 application/json","fields":{"ElapsedMilliseconds":1752.8917000000001,"StatusCode":200,"ContentType":"application/json","HostingRequestFinishedLog":"Request finished in 1752.8917ms 200 application/json","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLO6MIVR1HTJ:00000002","RequestPath":"/api/auth/login","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTJ"},"renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 1752.8917ms 200 application/json"}]}}
{"@timestamp":"2019-07-12T18:36:19.6782833+08:00","level":"Information","messageTemplate":"{HostingRequestStartingLog:l}","message":"Request starting HTTP/1.1 GET http://localhost:5000/chatHub?access_token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtaWNrZXkiLCJqdGkiOiJkMTE1MTliZC02ZmE4LTQ3MTYtYWIxZS0wYjhmODk2YTMwZTQiLCJpYXQiOjE1NjI5Mjc3NzksInJvbCI6ImFwaV9hY2Nlc3MiLCJpZCI6IjBhNzEzYWQxLTQ3YjEtNDQwNi1hNzRhLWVhMmQzNmViNTEzNiIsIm5iZiI6MTU2MjkyNzc3OSwiZXhwIjoxNTYyOTM0OTc5LCJpc3MiOiJ3ZWJBcGkiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjUwMDAvIn0.WOeK5sk9XDF1QlS2LEeiZh6ThDgNyHXwjR3xt3Z-kr5I7AnqBekQmAfscXe6MGqZ5rZ7oQQ3xkQCOvNiSjVN-g  ","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/chatHub","QueryString":"?access_token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtaWNrZXkiLCJqdGkiOiJkMTE1MTliZC02ZmE4LTQ3MTYtYWIxZS0wYjhmODk2YTMwZTQiLCJpYXQiOjE1NjI5Mjc3NzksInJvbCI6ImFwaV9hY2Nlc3MiLCJpZCI6IjBhNzEzYWQxLTQ3YjEtNDQwNi1hNzRhLWVhMmQzNmViNTEzNiIsIm5iZiI6MTU2MjkyNzc3OSwiZXhwIjoxNTYyOTM0OTc5LCJpc3MiOiJ3ZWJBcGkiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjUwMDAvIn0.WOeK5sk9XDF1QlS2LEeiZh6ThDgNyHXwjR3xt3Z-kr5I7AnqBekQmAfscXe6MGqZ5rZ7oQQ3xkQCOvNiSjVN-g","HostingRequestStartingLog":"Request starting HTTP/1.1 GET http://localhost:5000/chatHub?access_token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtaWNrZXkiLCJqdGkiOiJkMTE1MTliZC02ZmE4LTQ3MTYtYWIxZS0wYjhmODk2YTMwZTQiLCJpYXQiOjE1NjI5Mjc3NzksInJvbCI6ImFwaV9hY2Nlc3MiLCJpZCI6IjBhNzEzYWQxLTQ3YjEtNDQwNi1hNzRhLWVhMmQzNmViNTEzNiIsIm5iZiI6MTU2MjkyNzc3OSwiZXhwIjoxNTYyOTM0OTc5LCJpc3MiOiJ3ZWJBcGkiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjUwMDAvIn0.WOeK5sk9XDF1QlS2LEeiZh6ThDgNyHXwjR3xt3Z-kr5I7AnqBekQmAfscXe6MGqZ5rZ7oQQ3xkQCOvNiSjVN-g  ","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLO6MIVR1HTL:00000001","RequestPath":"/chatHub","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTL"},"renderings":{"HostingRequestStartingLog":[{"Format":"l","Rendering":"Request starting HTTP/1.1 GET http://localhost:5000/chatHub?access_token=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtaWNrZXkiLCJqdGkiOiJkMTE1MTliZC02ZmE4LTQ3MTYtYWIxZS0wYjhmODk2YTMwZTQiLCJpYXQiOjE1NjI5Mjc3NzksInJvbCI6ImFwaV9hY2Nlc3MiLCJpZCI6IjBhNzEzYWQxLTQ3YjEtNDQwNi1hNzRhLWVhMmQzNmViNTEzNiIsIm5iZiI6MTU2MjkyNzc3OSwiZXhwIjoxNTYyOTM0OTc5LCJpc3MiOiJ3ZWJBcGkiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjUwMDAvIn0.WOeK5sk9XDF1QlS2LEeiZh6ThDgNyHXwjR3xt3Z-kr5I7AnqBekQmAfscXe6MGqZ5rZ7oQQ3xkQCOvNiSjVN-g  "}]}}
{"@timestamp":"2019-07-12T18:36:19.6784740+08:00","level":"Information","messageTemplate":"Method: GET, Scheme: http, PathBase: , Path: /chatHub, IP: 127.0.0.1, Host: localhost:5000, ContentLength: ","message":"Method: GET, Scheme: http, PathBase: , Path: /chatHub, IP: 127.0.0.1, Host: localhost:5000, ContentLength: ","fields":{"SourceContext":"Web.Api.Startup","RequestId":"0HLO6MIVR1HTL:00000001","RequestPath":"/chatHub","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTL"}}
{"@timestamp":"2019-07-12T18:36:19.7104715+08:00","level":"Information","messageTemplate":"Successfully validated the token.","message":"Successfully validated the token.","fields":{"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HLO6MIVR1HTL:00000001","RequestPath":"/chatHub","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTL"}}
{"@timestamp":"2019-07-12T18:36:19.7230948+08:00","level":"Information","messageTemplate":"Authorization was successful.","message":"Authorization was successful.","fields":{"EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HLO6MIVR1HTL:00000001","RequestPath":"/chatHub","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTL"}}
{"@timestamp":"2019-07-12T18:36:19.7870324+08:00","level":"Information","messageTemplate":"Completed connection handshake. Using HubProtocol '{Protocol}'.","message":"Completed connection handshake. Using HubProtocol '\"json\"'.","fields":{"Protocol":"json","EventId":{"Id":1,"Name":"HandshakeComplete"},"SourceContext":"Microsoft.AspNetCore.SignalR.HubConnectionContext","TransportConnectionId":"6DMGGty4D40JEd-0tJZWVQ","RequestId":"0HLO6MIVR1HTL:00000001","RequestPath":"/chatHub","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTL"}}
{"@timestamp":"2019-07-12T18:36:24.3373137+08:00","level":"Information","messageTemplate":"{HostingRequestFinishedLog:l}","message":"Request finished in 4659.0075ms 101 ","fields":{"ElapsedMilliseconds":4659.0075000000006,"StatusCode":101,"ContentType":null,"HostingRequestFinishedLog":"Request finished in 4659.0075ms 101 ","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLO6MIVR1HTL:00000001","RequestPath":"/chatHub","CorrelationId":null,"ConnectionId":"0HLO6MIVR1HTL"},"renderings":{"HostingRequestFinishedLog":[{"Format":"l","Rendering":"Request finished in 4659.0075ms 101 "}]}}
